# ğŸŒ Worldwide Cities Database by Country
# Supporting comprehensive train booking system for the entire world

# Country-based cities database with comprehensive coverage
COUNTRIES_AND_CITIES = {
    # ğŸ‡ºğŸ‡¸ United States
    "United States": [
        "New York", "Los Angeles", "Chicago", "Houston", "Phoenix", "Philadelphia", "San Antonio",
        "San Diego", "Dallas", "San Jose", "Austin", "Jacksonville", "Fort Worth", "Columbus",
        "Charlotte", "San Francisco", "Indianapolis", "Seattle", "Denver", "Washington DC", "Boston",
        "El Paso", "Nashville", "Detroit", "Oklahoma City", "Portland", "Las Vegas", "Memphis",
        "Louisville", "Baltimore", "Milwaukee", "Albuquerque", "Tucson", "Fresno", "Sacramento",
        "Kansas City", "Mesa", "Atlanta", "Colorado Springs", "Omaha", "Raleigh", "Miami", "Oakland",
        "Minneapolis", "Tulsa", "Cleveland", "Wichita", "Arlington", "Tampa", "New Orleans",
        "Honolulu", "Anaheim", "Aurora", "Santa Ana", "St. Louis", "Riverside", "Corpus Christi",
        "Lexington", "Pittsburgh", "Anchorage", "Stockton", "Cincinnati", "Saint Paul", "Buffalo"
    ],
    
    # ğŸ‡¨ğŸ‡¦ Canada
    "Canada": [
        "Toronto", "Montreal", "Vancouver", "Calgary", "Edmonton", "Ottawa", "Winnipeg",
        "Quebec City", "Hamilton", "Kitchener", "London", "Victoria", "Halifax", "Oshawa",
        "Windsor", "Saskatoon", "Regina", "Sherbrooke", "St. John's", "Barrie", "Kelowna",
        "Abbotsford", "Greater Sudbury", "Kingston", "Saguenay", "Trois-RiviÃ¨res", "Guelph",
        "Cambridge", "Whitby", "Coquitlam", "Saanich", "Milton", "Thunder Bay", "Burlington"
    ],
    
    # ğŸ‡¬ğŸ‡§ United Kingdom
    "United Kingdom": [
        "London", "Birmingham", "Manchester", "Glasgow", "Liverpool", "Leeds", "Sheffield",
        "Edinburgh", "Bristol", "Cardiff", "Leicester", "Coventry", "Belfast", "Nottingham",
        "Kingston upon Hull", "Newcastle upon Tyne", "Stoke-on-Trent", "Southampton", "Derby",
        "Portsmouth", "Brighton", "Plymouth", "Northampton", "Reading", "Luton", "Wolverhampton"
    ],
    
    # ğŸ‡©ğŸ‡ª Germany
    "Germany": [
        "Berlin", "Hamburg", "Munich", "Cologne", "Frankfurt", "Stuttgart", "DÃ¼sseldorf", "Leipzig",
        "Dortmund", "Essen", "Bremen", "Dresden", "Hannover", "Nuremberg", "Duisburg", "Bochum",
        "Wuppertal", "Bielefeld", "Bonn", "MÃ¼nster", "Mannheim", "Augsburg", "Wiesbaden", "Gelsenkirchen",
        "MÃ¶nchengladbach", "Braunschweig", "Chemnitz", "Kiel", "Aachen", "Halle", "Magdeburg", "Freiburg"
    ],
    
    # ğŸ‡«ğŸ‡· France
    "France": [
        "Paris", "Marseille", "Lyon", "Toulouse", "Nice", "Nantes", "Strasbourg", "Montpellier",
        "Bordeaux", "Lille", "Rennes", "Reims", "Le Havre", "Saint-Ã‰tienne", "Toulon", "Grenoble",
        "Dijon", "Angers", "Villeurbanne", "Saint-Denis", "Le Mans", "Aix-en-Provence", "Clermont-Ferrand",
        "Brest", "Tours", "Limoges", "Amiens", "Annecy", "Perpignan", "Boulogne-Billancourt"
    ],
    
    # ğŸ‡ªğŸ‡¸ Spain
    "Spain": [
        "Madrid", "Barcelona", "Valencia", "Seville", "Zaragoza", "MÃ¡laga", "Murcia", "Palma",
        "Las Palmas", "Bilbao", "Alicante", "CÃ³rdoba", "Valladolid", "Vigo", "GijÃ³n", "L'Hospitalet",
        "A CoruÃ±a", "Granada", "Vitoria-Gasteiz", "Elche", "Santa Cruz de Tenerife", "Oviedo",
        "Badalona", "Cartagena", "Terrassa", "Jerez de la Frontera", "Sabadell", "MÃ³stoles"
    ],
    
    # ğŸ‡®ğŸ‡¹ Italy
    "Italy": [
        "Rome", "Milan", "Naples", "Turin", "Palermo", "Genoa", "Bologna", "Florence", "Bari",
        "Catania", "Venice", "Verona", "Messina", "Padua", "Trieste", "Taranto", "Brescia",
        "Prato", "Reggio Calabria", "Modena", "Reggio Emilia", "Perugia", "Livorno", "Ravenna",
        "Cagliari", "Foggia", "Rimini", "Salerno", "Ferrara", "Sassari", "Latina", "Giugliano"
    ],
    
    # ğŸ‡¯ğŸ‡µ Japan
    "Japan": [
        "Tokyo", "Yokohama", "Osaka", "Nagoya", "Sapporo", "Fukuoka", "Kobe", "Kawasaki", "Kyoto",
        "Saitama", "Hiroshima", "Sendai", "Kitakyushu", "Chiba", "Sakai", "Niigata", "Hamamatsu",
        "Okayama", "Sagamihara", "Shizuoka", "Kumamoto", "Kagoshima", "Matsuyama", "Kanazawa",
        "Utsunomiya", "Matsudo", "Kawaguchi", "Takasaki", "Oita", "Nara", "Toyama", "Nagasaki"
    ],
    
    # ğŸ‡°ğŸ‡· South Korea
    "South Korea": [
        "Seoul", "Busan", "Incheon", "Daegu", "Daejeon", "Gwangju", "Suwon", "Ulsan", "Changwon",
        "Goyang", "Yongin", "Bucheon", "Cheongju", "Ansan", "Jeonju", "Anyang", "Pohang", "Uijeongbu",
        "Siheung", "Cheonan", "Hwaseong", "Gimhae", "Gumi", "Pyeongtaek", "Jinju", "Gunpo", "Osan"
    ],
    
    # ğŸ‡¨ğŸ‡³ China
    "China": [
        "Beijing", "Shanghai", "Guangzhou", "Shenzhen", "Tianjin", "Wuhan", "Dongguan", "Chengdu",
        "Nanjing", "Chongqing", "Xi'an", "Shenyang", "Hangzhou", "Foshan", "Zhengzhou", "Qingdao",
        "Dalian", "Jinan", "Kunming", "Harbin", "Fuzhou", "Changchun", "Stone Mountain", "Wenzhou",
        "Hefei", "Changsha", "Shijiazhuang", "Taiyuan", "Xuzhou", "Yantai", "Huizhou", "Weifang"
    ],
    
    # ğŸ‡®ğŸ‡³ India
    "India": [
        "Mumbai", "Delhi", "Bangalore", "Hyderabad", "Ahmedabad", "Chennai", "Kolkata", "Surat",
        "Pune", "Jaipur", "Lucknow", "Kanpur", "Nagpur", "Indore", "Thane", "Bhopal", "Visakhapatnam",
        "Pimpri-Chinchwad", "Patna", "Vadodara", "Ghaziabad", "Ludhiana", "Agra", "Nashik", "Faridabad",
        "Meerut", "Rajkot", "Kalyan-Dombivali", "Vasai-Virar", "Varanasi", "Srinagar", "Dhanbad"
    ],
    
    # ğŸ‡¦ğŸ‡º Australia
    "Australia": [
        "Sydney", "Melbourne", "Brisbane", "Perth", "Adelaide", "Gold Coast", "Newcastle",
        "Canberra", "Sunshine Coast", "Wollongong", "Hobart", "Geelong", "Townsville",
        "Cairns", "Darwin", "Toowoomba", "Ballarat", "Bendigo", "Albury", "Launceston",
        "Mackay", "Rockhampton", "Bunbury", "Bundaberg", "Coffs Harbour", "Wagga Wagga"
    ],
    
    # ğŸ‡³ğŸ‡¿ New Zealand
    "New Zealand": [
        "Auckland", "Wellington", "Christchurch", "Hamilton", "Tauranga", "Napier-Hastings",
        "Dunedin", "Palmerston North", "Nelson", "Rotorua", "New Plymouth", "Whangarei",
        "Invercargill", "Whanganui", "Gisborne", "Timaru", "Pukekohe", "Papakura"
    ],
    
    # ğŸ‡§ğŸ‡· Brazil
    "Brazil": [
        "SÃ£o Paulo", "Rio de Janeiro", "Salvador", "BrasÃ­lia", "Fortaleza", "Belo Horizonte",
        "Manaus", "Curitiba", "Recife", "Porto Alegre", "BelÃ©m", "GoiÃ¢nia", "Guarulhos",
        "Campinas", "SÃ£o LuÃ­s", "SÃ£o GonÃ§alo", "MaceiÃ³", "Duque de Caxias", "Natal", "Teresina",
        "Campo Grande", "Nova IguaÃ§u", "SÃ£o Bernardo do Campo", "JoÃ£o Pessoa", "Santo AndrÃ©"
    ],
    
    # ğŸ‡¦ğŸ‡· Argentina
    "Argentina": [
        "Buenos Aires", "CÃ³rdoba", "Rosario", "Mendoza", "La Plata", "TucumÃ¡n", "Mar del Plata",
        "Salta", "Santa Fe", "San Juan", "Resistencia", "Santiago del Estero", "Corrientes",
        "Posadas", "NeuquÃ©n", "BahÃ­a Blanca", "ParanÃ¡", "Formosa", "San Luis", "La Rioja"
    ],
    
    # ğŸ‡²ğŸ‡½ Mexico
    "Mexico": [
        "Mexico City", "Guadalajara", "Monterrey", "Puebla", "Tijuana", "LeÃ³n", "JuÃ¡rez",
        "Zapopan", "NezahualcÃ³yotl", "Chihuahua", "Naucalpan", "MÃ©rida", "Ãlvaro ObregÃ³n",
        "San Luis PotosÃ­", "Aguascalientes", "Hermosillo", "Saltillo", "Mexicali", "CuliacÃ¡n",
        "Guadalupe", "Acapulco", "Tlalnepantla", "CancÃºn", "QuerÃ©taro", "ChimalhuacÃ¡n"
    ],
    
    # ğŸ‡·ğŸ‡º Russia
    "Russia": [
        "Moscow", "Saint Petersburg", "Novosibirsk", "Yekaterinburg", "Nizhny Novgorod", "Kazan",
        "Chelyabinsk", "Omsk", "Samara", "Rostov-on-Don", "Ufa", "Krasnoyarsk", "Perm", "Voronezh",
        "Volgograd", "Krasnodar", "Saratov", "Tyumen", "Tolyatti", "Izhevsk", "Barnaul", "Ulyanovsk"
    ],
    
    # Additional countries with major cities
    # ğŸ‡ªğŸ‡¬ Egypt
    "Egypt": ["Cairo", "Alexandria", "Giza", "Shubra El Kheima", "Port Said", "Suez", "Luxor", "Mansoura", "El Mahalla El Kubra", "Tanta"],
    
    # ğŸ‡¿ğŸ‡¦ South Africa
    "South Africa": ["Johannesburg", "Cape Town", "Durban", "Pretoria", "Port Elizabeth", "Bloemfontein", "East London", "Nelspruit", "Kimberley", "Polokwane"],
    
    # ğŸ‡³ğŸ‡¬ Nigeria
    "Nigeria": ["Lagos", "Kano", "Ibadan", "Kaduna", "Port Harcourt", "Benin City", "Maiduguri", "Zaria", "Aba", "Jos"],
    
    # ğŸ‡°ğŸ‡ª Kenya
    "Kenya": ["Nairobi", "Mombasa", "Kisumu", "Nakuru", "Eldoret", "Thika", "Malindi", "Kitale", "Garissa", "Kakamega"],
    
    # ğŸ‡¹ğŸ‡­ Thailand
    "Thailand": ["Bangkok", "Nonthaburi", "Pak Kret", "Hat Yai", "Chiang Mai", "Phuket", "Pattaya", "Udon Thani", "Nakhon Ratchasima", "Khon Kaen"],
    
    # ğŸ‡®ğŸ‡© Indonesia
    "Indonesia": ["Jakarta", "Surabaya", "Bandung", "Bekasi", "Medan", "Depok", "Tangerang", "Palembang", "Semarang", "Makassar"],
    
    # ğŸ‡µğŸ‡­ Philippines
    "Philippines": ["Manila", "Quezon City", "Caloocan", "Davao", "Cebu City", "Zamboanga", "Antipolo", "Pasig", "Taguig", "Valenzuela"],
    
    # ğŸ‡»ğŸ‡³ Vietnam
    "Vietnam": ["Ho Chi Minh City", "Hanoi", "Haiphong", "Da Nang", "Bien Hoa", "Hue", "Nha Trang", "Can Tho", "Rach Gia", "Qui Nhon"],
    
    # ğŸ‡²ğŸ‡¾ Malaysia
    "Malaysia": ["Kuala Lumpur", "George Town", "Ipoh", "Shah Alam", "Petaling Jaya", "Johor Bahru", "Seremban", "Kuantan", "Kota Kinabalu", "Kuching"],
    
    # ğŸ‡¸ğŸ‡¬ Singapore
    "Singapore": ["Singapore"],
    
    # ğŸ‡³ğŸ‡± Netherlands
    "Netherlands": ["Amsterdam", "Rotterdam", "The Hague", "Utrecht", "Eindhoven", "Tilburg", "Groningen", "Almere", "Breda", "Nijmegen"],
    
    # ğŸ‡§ğŸ‡ª Belgium
    "Belgium": ["Brussels", "Antwerp", "Ghent", "Charleroi", "LiÃ¨ge", "Bruges", "Namur", "Leuven", "Mons", "Aalst"],
    
    # ğŸ‡¸ğŸ‡ª Sweden
    "Sweden": ["Stockholm", "Gothenburg", "MalmÃ¶", "Uppsala", "VÃ¤sterÃ¥s", "Ã–rebro", "LinkÃ¶ping", "Helsingborg", "JÃ¶nkÃ¶ping", "NorrkÃ¶ping"],
    
    # ğŸ‡³ğŸ‡´ Norway
    "Norway": ["Oslo", "Bergen", "Trondheim", "Stavanger", "BÃ¦rum", "Kristiansand", "Fredrikstad", "TromsÃ¸", "Sandnes", "Asker"],
    
    # ğŸ‡©ğŸ‡° Denmark
    "Denmark": ["Copenhagen", "Aarhus", "Odense", "Aalborg", "Esbjerg", "Randers", "Kolding", "Horsens", "Vejle", "Roskilde"],
    
    # ğŸ‡«ğŸ‡® Finland
    "Finland": ["Helsinki", "Espoo", "Tampere", "Vantaa", "Oulu", "Turku", "JyvÃ¤skylÃ¤", "Lahti", "Kuopio", "Pori"],
    
    # ğŸ‡µğŸ‡± Poland
    "Poland": ["Warsaw", "KrakÃ³w", "ÅÃ³dÅº", "WrocÅ‚aw", "PoznaÅ„", "GdaÅ„sk", "Szczecin", "Bydgoszcz", "Lublin", "BiaÅ‚ystok"],
    
    # ğŸ‡¨ğŸ‡¿ Czech Republic
    "Czech Republic": ["Prague", "Brno", "Ostrava", "Plzen", "Liberec", "Olomouc", "ÃšstÃ­ nad Labem", "ÄŒeskÃ© BudÄ›jovice", "Hradec KrÃ¡lovÃ©", "Pardubice"],
    
    # ğŸ‡¦ğŸ‡¹ Austria
    "Austria": ["Vienna", "Graz", "Linz", "Salzburg", "Innsbruck", "Klagenfurt", "Villach", "Wels", "Sankt PÃ¶lten", "Dornbirn"],
    
    # ğŸ‡¨ğŸ‡­ Switzerland
    "Switzerland": ["Zurich", "Geneva", "Basel", "Lausanne", "Bern", "Winterthur", "Lucerne", "St. Gallen", "Lugano", "Biel/Bienne"],
    
    # ğŸ‡µğŸ‡¹ Portugal
    "Portugal": ["Lisbon", "Porto", "Vila Nova de Gaia", "Amadora", "Braga", "SetÃºbal", "Coimbra", "Queluz", "Funchal", "Almada"]
}

# Create flat list for backward compatibility
WORLD_CITIES = []
for country, cities in COUNTRIES_AND_CITIES.items():
    WORLD_CITIES.extend(cities)


# Regional groupings for better organization
REGIONS = {
    "North America": ["United States", "Canada", "Mexico"],
    "Europe": ["United Kingdom", "Germany", "France", "Spain", "Italy", "Netherlands", "Belgium", 
               "Sweden", "Norway", "Denmark", "Finland", "Poland", "Czech Republic", "Austria", "Switzerland", "Portugal"],
    "Asia": ["Japan", "South Korea", "China", "India", "Thailand", "Indonesia", "Philippines", "Vietnam", "Malaysia", "Singapore"],
    "Oceania": ["Australia", "New Zealand"],
    "South America": ["Brazil", "Argentina"],
    "Africa": ["Egypt", "South Africa", "Nigeria", "Kenya"],
    "Eastern Europe & Russia": ["Russia"]
}

# Get all countries sorted alphabetically
def get_all_countries():
    """Return all countries sorted alphabetically"""
    return sorted(COUNTRIES_AND_CITIES.keys())

# Get cities for a specific country
def get_cities_by_country(country):
    """Return cities for a specific country"""
    return COUNTRIES_AND_CITIES.get(country, [])

# Get countries by region
def get_countries_by_region(region):
    """Return countries in a specific region"""
    return REGIONS.get(region, [])

# Search cities within a country
def search_cities_in_country(country, query, limit=10):
    """Search for cities within a specific country"""
    if country not in COUNTRIES_AND_CITIES:
        return []
    
    cities = COUNTRIES_AND_CITIES[country]
    query_lower = query.lower()
    
    # Exact matches first
    exact_matches = [city for city in cities if city.lower() == query_lower]
    
    # Starts with matches
    starts_with = [city for city in cities if city.lower().startswith(query_lower) and city not in exact_matches]
    
    # Contains matches
    contains = [city for city in cities if query_lower in city.lower() and city not in exact_matches and city not in starts_with]
    
    # Combine and limit results
    results = exact_matches + starts_with + contains
    return results[:limit]

# Search for countries
def search_countries(query, limit=10):
    """Search for countries based on query"""
    query_lower = query.lower()
    countries = get_all_countries()
    
    # Exact matches first
    exact_matches = [country for country in countries if country.lower() == query_lower]
    
    # Starts with matches
    starts_with = [country for country in countries if country.lower().startswith(query_lower) and country not in exact_matches]
    
    # Contains matches
    contains = [country for country in countries if query_lower in country.lower() and country not in exact_matches and country not in starts_with]
    
    # Combine and limit results
    results = exact_matches + starts_with + contains
    return results[:limit]

# Get country for a city (for backward compatibility)
def get_country_for_city(city):
    """Return the country for a given city"""
    for country, cities in COUNTRIES_AND_CITIES.items():
        if city in cities:
            return country
    return None

# Get region for a country
def get_region_for_country(country):
    """Return the region for a given country"""
    for region, countries in REGIONS.items():
        if country in countries:
            return region
    return "Other"
